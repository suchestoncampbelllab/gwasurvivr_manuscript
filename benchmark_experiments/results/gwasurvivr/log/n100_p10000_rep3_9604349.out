###### start time:1535943905
> library(gwasurvivr)
> library(batch)
> 
> parseCommandArgs(evaluate=TRUE)
$impute.chunk
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/genotype/n100_p10000_chr18.impute"

$sample.chunk
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/sample/n100.impute_sample"

$covariate.file
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/covariates/simulated_pheno.txt"

$sample.ids
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/sample_ids/sample_ids_n100.txt"

$output
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/output/gwasurvivr/results/n100_p10000_rep3.gwasurvivr"

$chunk.size
[1] 10000

$ncores
[1] 8

> 
> options("gwasurvivr.cores"=as.numeric(ncores))
> 
> surv <- function(impute.chunk,
+ 		 sample.chunk,
+ 		 covariate.file,
+ 		 sample.ids,
+ 		 output,
+ 		 chunk.size){
+ 
+ 	covariate.file <- read.table(covariate.file, header=TRUE, sep=" ", stringsAsFactors=FALSE)
+ 
+ 	sample.ids <- scan(sample.ids, what=character())
+ 
+ 	impute2CoxSurv(impute.file=impute.chunk,
+ 				   sample.file=sample.chunk,
+ 				   chr=18,
+ 				   covariate.file=covariate.file,
+ 				   id.column="ID_2",
+ 				   sample.ids=sample.ids,
+ 				   time.to.event="time",
+ 				   event="event",
+ 				   covariates=c("age", "sex", "DrugTxYes"),
+ 				   inter.term=NULL,
+ 				   print.covs="only",
+ 				   out.file=output,
+ 				   chunk.size=chunk.size,
+ 				   maf.filter=0.005,
+ 				   flip.dosage=TRUE,
+ 				   verbose=TRUE,
+ 				   clusterObj=NULL,
+ 				   keepGDS=FALSE)
+ }
> 
> surv(impute.chunk,
+      sample.chunk,
+      covariate.file,
+      sample.ids,
+      output,
+      as.numeric(chunk.size))
Clean up the fragments of GDS file:
    open the file '/scratch/9604349/Rtmpw6xGbs/733c79bc8541.gds' (3.8M)
    # of fragments: 30
    save to '/scratch/9604349/Rtmpw6xGbs/733c79bc8541.gds.tmp'
    rename '/scratch/9604349/Rtmpw6xGbs/733c79bc8541.gds.tmp' (118.2K, reduced: 3.7M)
    # of fragments: 14
> 
All Done!
*************************************************
SLURM_JOB_ID=9604349
SLURM_JOB_NODELIST=cpn-d09-06-01
SLURM_NNODES=1
SLURMTMPDIR=/scratch/9604349
working directory=/projects/rpci/lsuchest/abbasriz/survivr_benchmark/scripts/sr_impute
*************************************************
###### end time: Sun Sep 2 23:05:36 EDT 2018
It took 31 seconds
