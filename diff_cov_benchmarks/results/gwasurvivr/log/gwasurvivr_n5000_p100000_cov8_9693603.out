###### start time:1537763049
> library(gwasurvivr)
> library(batch)
> 
> parseCommandArgs(evaluate=TRUE)
$impute.chunk
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/genotype/n5000_p100000_chr18.impute"

$sample.chunk
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/sample/n5000.impute_sample"

$covariate.file
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/covariates/n5000_cov_pcs.phenotype"

$sample.ids
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/input/impute/sample_ids/sample_ids_n5000.txt"

$output
[1] "/projects/rpci/lsuchest/abbasriz/survivr_benchmark/revisions/cov_bm_results/cov8/gwasurvivr/n5000_p100000_cov8.gwasurvivr"

$chunk.size
[1] 10000

$ncores
[1] 8

$covariate
[1] "cov8"

> 
> options("gwasurvivr.cores"=as.numeric(ncores))
> 
> 
> surv <- function(impute.chunk,
+                  sample.chunk,
+                  covariate.file,
+                  sample.ids,
+                  output,
+                  chunk.size, 
+                  covariate){
+     
+     if(covariate=="cov4"){
+         covariates <- c("age", "sex", "DrugTxYes", "pc1")
+     } else if(covariate=="cov8"){
+         covariates <- c("age", "sex", "DrugTxYes", "pc1", "pc2", "pc3", "pc4", "pc5")
+     } else if(covariate=="cov12"){
+         covariates <- c("age", "sex", "DrugTxYes", "pc1", "pc2", "pc3", "pc4", "pc5", "pc6", "pc7", "pc8", "pc9")
+     }
+     
+     covariate.file <- read.table(covariate.file, header=TRUE, sep="\t", stringsAsFactors=FALSE)
+     
+     sample.ids <- scan(sample.ids, what=character())
+     
+     impute2CoxSurv(impute.file=impute.chunk,
+                    sample.file=sample.chunk,
+                    chr=18,
+                    covariate.file=covariate.file,
+                    id.column="ID_2",
+                    sample.ids=sample.ids,
+                    time.to.event="time",
+                    event="event",
+                    covariates=covariates,
+                    inter.term=NULL,
+                    print.covs="only",
+                    out.file=output,
+                    chunk.size=chunk.size,
+                    maf.filter=0.005,
+                    flip.dosage=TRUE,
+                    verbose=TRUE,
+                    clusterObj=NULL,
+                    keepGDS=FALSE)
+ }
> 
> surv(impute.chunk,
+      sample.chunk,
+      covariate.file,
+      sample.ids,
+      output,
+      as.numeric(chunk.size),
+      covariate)
Clean up the fragments of GDS file:
    open the file '/scratch/9693603/Rtmp7EKBmi/3d827a4391e2.gds' (1.9G)
    # of fragments: 30
    save to '/scratch/9693603/Rtmp7EKBmi/3d827a4391e2.gds.tmp'
    rename '/scratch/9693603/Rtmp7EKBmi/3d827a4391e2.gds.tmp' (30.5M, reduced: 1.8G)
    # of fragments: 14
> 
All Done!
*************************************************
SLURM_JOB_ID=9693603
SLURM_JOB_NODELIST=cpn-f16-11
SLURM_NNODES=1
SLURMTMPDIR=/scratch/9693603
working directory=/projects/rpci/lsuchest/abbasriz/survivr_benchmark/revisions/cov_bm_results/scripts
*************************************************
###### end time: Mon Sep 24 01:18:07 EDT 2018
It took 3238 seconds
